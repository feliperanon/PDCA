<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <title>PDCA NL — Firebase + Vite</title>
    <link rel="stylesheet" href="/src/style.css" />
  </head>
  <body>
    <h1>PDCA NL — Firebase + Vite</h1>

    <!-- LOGIN -->
    <div id="login-area" class="section">
      <h2>Login</h2>

      <label>E-mail</label>
      <input type="email" id="login-email" />

      <label>Senha</label>
      <input type="password" id="login-senha" />

      <button id="btn-logar">Entrar</button>
      <button id="btn-criar-conta">Criar conta</button>
    </div>

    <!-- APP -->
    <div id="app-area" class="section" style="display: none">
      <button id="btn-sair">Sair</button>

      <!-- ESCOLHA DA ETAPA -->
      <div class="section">
        <h2>Etapa do PDCA</h2>
        <label>O que você quer registrar agora?</label>
        <select id="etapa">
          <option value="plan">Plan (Planejar)</option>
          <option value="do">Do (Executar)</option>
          <option value="check">Check (Checar)</option>
          <option value="act">Act (Padronizar)</option>
        </select>
      </div>

      <!-- DASHBOARD STATUS -->
      <div class="section">
        <h2>Visão geral – Plan / Do / Check / Act</h2>
        <canvas id="grafico-status"></canvas>
      </div>

      <!-- DASHBOARD PRIORIDADES POR ÁREA -->
      <div class="section">
        <h2>Prioridades por área (PDCAs em aberto)</h2>
        <table id="tabela-prioridades"></table>
      </div>

      <!-- PLAN -->
      <div id="section-plan" class="section">
        <h2>Plan – Novo problema</h2>
        <form id="form-plan">
          <p><em>O código PDCA será gerado automaticamente ao salvar.</em></p>

          <label>Título (nome do problema)</label>
          <input type="text" id="plan-titulo" required />

          <label>Categoria</label>
          <select id="plan-categoria">
            <option value="">Selecione...</option>
            <option value="Quebra / perda de produto">
              Quebra / perda de produto
            </option>
            <option value="Atraso / tempo">Atraso / tempo</option>
            <option value="Comunicação / alinhamento">
              Comunicação / alinhamento
            </option>
            <option value="Organização / processo">
              Organização / processo
            </option>
            <option value="Segurança / risco">Segurança / risco</option>
            <option value="Outro">Outro</option>
          </select>

          <label>Área</label>
          <input type="text" id="plan-area" />

          <label>Prioridade</label>
          <select id="plan-prioridade">
            <option value="Baixa">Baixa</option>
            <option value="Média">Média</option>
            <option value="Alta">Alta</option>
            <option value="Crítica">Crítica</option>
          </select>

          <label>Problema</label>
          <textarea id="plan-problema"></textarea>

          <label>Causas (ou hipóteses)</label>
          <textarea id="plan-causas"></textarea>

          <label>Meta</label>
          <input type="text" id="plan-meta" />

          <label>Indicador antes (referência)</label>
          <input type="text" id="plan-indicador-referencia" />

          <label>Indicador desejado</label>
          <input type="text" id="plan-indicador-desejado" />

          <label>Plano de ação</label>
          <textarea id="plan-plano-acao"></textarea>

          <button type="submit">Salvar Plan (criar novo PDCA)</button>
        </form>
      </div>

      <!-- DO -->
      <div id="section-do" class="section" style="display: none">
        <h2>Do – Executar um Plan</h2>

        <label>Escolha um PDCA em Plan (sem Do ainda)</label>
        <select id="do-pdca-select">
          <option value="">Selecione um PDCA...</option>
        </select>

        <div id="do-resumo-plan"></div>

        <form id="form-do">
          <label>Ações realizadas</label>
          <textarea id="do-acoes"></textarea>

          <label>Quem fez</label>
          <input type="text" id="do-quem" />

          <label>Quando fez</label>
          <input type="date" id="do-quando" />

          <button type="submit">Salvar Do</button>
        </form>
      </div>

      <!-- CHECK -->
      <div id="section-check" class="section" style="display: none">
        <h2>Check – Avaliar o Do</h2>

        <label>Escolha um PDCA em Do (sem Check ainda)</label>
        <select id="check-pdca-select">
          <option value="">Selecione um PDCA...</option>
        </select>

        <div id="check-resumo-plan-do"></div>

        <form id="form-check">
          <label>Indicadores antes</label>
          <textarea id="check-indicadores-antes"></textarea>

          <label>Indicadores depois</label>
          <textarea id="check-indicadores-depois"></textarea>

          <label>Observações</label>
          <textarea id="check-observacoes"></textarea>

          <button type="submit">Salvar Check</button>
        </form>
      </div>

      <!-- ACT -->
      <div id="section-act" class="section" style="display: none">
        <h2>Act – Padronizar ou ajustar</h2>

        <label>Escolha um PDCA em Check (sem Act ainda)</label>
        <select id="act-pdca-select">
          <option value="">Selecione um PDCA...</option>
        </select>

        <div id="act-resumo-completo"></div>

        <form id="form-act">
          <label>Funcionou?</label>
          <select id="act-funcionou">
            <option value="sim">Sim, funcionou</option>
            <option value="nao">Não funcionou</option>
          </select>

          <label>Virou padrão? (descreva o novo padrão)</label>
          <textarea id="act-padrao"></textarea>

          <label>Lições aprendidas</label>
          <textarea id="act-licoes"></textarea>

          <button type="submit">Salvar Act</button>
        </form>
      </div>

      <!-- LISTA -->
      <div class="section">
        <h2>Todos os PDCAs</h2>
        <div id="pdca-list"></div>
      </div>

      <!-- DETALHE DO PDCA -->
      <div id="pdca-detalhe" class="section"></div>
    </div>

    <script type="module" src="/src/main.js"></script>
  </body>
</html>
